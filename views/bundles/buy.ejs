<body>
    <h1>Konfiguriere deine Accounts</h1>
    <p>Drag the slider to display the current value.</p>
    <form action="/dashboard/slider" method="POST">
        <div>
            <input name="slider" type="range" min="<%= locals.min %>" max="<%= locals.max %>" value="<%= locals.max %>"
                class="slider" id="myRange">
            <p>Value: <span id="demo"></span></p>
        </div>
        <% for( let i = 1; i <= 6; i++ ) { %>
            <div id="nameField<%= i %>">
                <div>
                  <label for="email">Email</label>
                  <input type="email" id="email<%= i %>" name="email<%= i %>" required>
                  <label for="password">Password</label>
                  <input type="password" id="password<%= i %>" name="password<%= i %>" required>
                </div>
            </div>
        <% } %>
        <button type="submit">Submit Value</button>
    </form>
    <script>
        var slider = document.getElementById("myRange");
        var output = document.getElementById("demo");
        output.innerHTML = slider.value;
        slider.oninput = function () {
            output.innerHTML = this.value;
            for (var i = 6; this.value < i; i--) {
                var childNodes = document.getElementById(`nameField${i}`).getElementsByTagName('*');
                for (var node of childNodes) {
                    node.style.display = 'none';
                    // console.log(i + 1 + "dis")
                }
                // console.log(i)
            }
            for (var i = 1; slider.value >= i; i++) {
                var childNodes = document.getElementById(`nameField${i}`).getElementsByTagName('*');
                for (var node of childNodes) {
                    node.style.display = 'unset';
                    // console.log(i + 1 + "dis")
                }

            }
        }
    </script>

</body>

</html>